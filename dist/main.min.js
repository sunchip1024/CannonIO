(()=>{"use strict";var n,e={3394:(n,e,t)=>{var o;t(9116),t(6074),t(5968),t(2),t(6204),t(4307),t(1135),t(543),t(9477),t(6021);function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function r(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,a(o.key),o)}}function a(n){var e=function(n,e){if("object"!=i(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==i(e)?e:String(e)}function l(n,e,t){return function(n,e){if(n!==e)throw new TypeError("Private static access of wrong provenance")}(n,e),function(n,e){if(void 0===n)throw new TypeError("attempted to "+e+" private static field before its declaration")}(t,"get"),function(n,e){if(e.get)return e.get.call(n);return e.value}(n,t)}var u=function(){function n(){throw function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),new SyntaxError("[ Input Class ] Static Class cannot make instance!")}var e,t,o;return e=n,o=[{key:"AddGetKeyDownEvent",value:function(n,e){window.addEventListener("keydown",(function(t){t.code===n&&e()}))}},{key:"GetButton",value:function(e){return void 0!==l(n,n,s)[e]&&l(n,n,s)[e]}},{key:"GetHorizontal",value:function(){var e=0;return n.GetButton("ArrowLeft")&&(e+=1),n.GetButton("ArrowRight")&&(e-=1),e}},{key:"GetVertical",value:function(){var e=0;return n.GetButton("ArrowUp")&&(e+=1),n.GetButton("ArrowDown")&&(e-=1),e}}],(t=null)&&r(e.prototype,t),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),n}();o=u;var s={writable:!0,value:[]},c={writable:!0,value:[]};window.addEventListener("keydown",(function(n){l(o,o,s)[n.code]=!0})),window.addEventListener("keypress",(function(n){l(o,o,c)[n.code]="keypress"})),window.addEventListener("keyup",(function(n){l(o,o,s)[n.code]=!1}));var d=t(6075),w=t(3653),f=t(636);function p(){var n=new d.xsS,e=new d.Mig(16777215,1);n.add(e);var t=new d.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);t.position.y=2.5,t.position.z=-5,t.lookAt(new d.Pa4(0,0,0)),n.add(t);var o=document.querySelector("#game-div"),i=new d.CP7({canvas:o,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio>1?2:1),window.addEventListener("resize",(function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.render(n,t)}));var r=new w.q3;r.gravity.set(0,-9.8,0);var a=new w.F5("iron"),l=new w.kp(a,a,{friction:0,restitution:0});r.addContactMaterial(l);var s=new d.Kj0(new d._12(100,100),new d.vBJ({color:"gray"}));s.position.y=-.5,s.rotation.x=-Math.PI/2,n.add(s);var c=new w.JO,p=new w.uT({mass:0,position:new w.AO(0,-.5,0),shape:c,material:a});p.quaternion.setFromAxisAngle(w.AO.UNIT_X,-Math.PI/2),r.addBody(p);var v=!1,y=null;(new f.E).load("./models/player.glb",(function(e){y=e.scene,n.add(y)}));var m=new w.xu(new w.AO(.3,.5,.3)),h=new w.uT({mass:1,position:new w.AO(0,0,0),shape:m});r.addBody(h);for(var b=new d.vBJ({color:"blue"}),g=new d.vBJ({color:"red"}),x=[],z=0;z<10;z++){var S=new d.Kj0(new d.DvJ(1,1,3),b),P=new d.Tme;P.position.copy(new d.Pa4(0,0,-2)),S.add(P),S.position.x=70*Math.random()-35,S.position.z=70*Math.random()-35,x.push(S),n.add(S);var k=new w.xu(new w.AO(.5,.5,1.5)),O=new w.uT({mass:0,position:new w.AO(S.position.x,0,S.position.z),shape:k});r.addBody(O)}var A=[],E=[];var G=new d.SUY,B=null,j=null;u.AddGetKeyDownEvent("KeyZ",(function(){v=!1===v&&null!==B})),u.AddGetKeyDownEvent("ShiftLeft",(function(){if(y&&B&&v){var e=new d.Pa4;B.children[0].getWorldPosition(e);var t=B.position;!function(e,t){var o=new d.Kj0(new d.xo$(.5),new d.vBJ({color:"orange"}));o.position.x=e.x,o.position.y=e.y,o.position.z=e.z,n.add(o),A.push(o);var i=new w.aL(.5),l=new w.uT({mass:10,position:new w.AO(e.x,e.y,e.z),shape:i,material:a});r.addBody(l),E.push(l),l.applyForce(t.unit().scale(2e4),l.position)}(e,new w.AO(e.x-t.x,e.y-t.y,e.z-t.z))}})),function e(){var o,a=G.getDelta();o=a<.01?1/120:1/60,r.step(o,a,3),function(){for(var n=0;n<A.length;n++){var e=E[n].position.x,t=E[n].position.y,o=E[n].position.z;A[n].position.copy(new d.Pa4(e,t,o))}}(),v?function(){if(y&&B){var n=100,e=new d.Pa4(u.GetVertical(),-u.GetHorizontal(),0);e.normalize(),e.multiplyScalar(n*a*d.M8C.DEG2RAD),B.rotation.y+=e.y;var t=B.rotation.x+e.x;B.rotation.x=Math.max(-Math.PI/2,Math.min(0,t))}}():(function(){if(y){var n=5,e=new d.Pa4(u.GetHorizontal(),0,u.GetVertical());if(e.normalize(),0!==e.x||0!==e.z){var o=new d.Pa4;o.copy(e),o.multiplyScalar(n*a),y.position.x+=o.x,y.position.z+=o.z,y.rotation.y=Math.atan2(e.x,e.z),t.position.x+=o.x,t.position.z+=o.z,t.lookAt(y.position),null!==B&&(B.position.x+=o.x,B.position.z+=o.z)}}}(),function(){if(null!==y&&null===B){for(var n=3,e=null,t=null===j?n:y.position.distanceTo(j.position),o=0;o<10;o++){var i=y.position.distanceTo(x[o].position);i>n||i>=t||(e=x[o],t=i)}null!==j&&(j.material=b),null===e?j=null:(e.material=g,j=e)}}(),function(){if(null!==y)if(u.GetButton("ShiftLeft")){if(null!==B)return;if(null===j)return;B=j}else{if(null===B)return;B=null}}()),i.render(n,t),i.setAnimationLoop(e)}()}document.querySelector("#game-div").style.display="none",document.querySelector("#enterButton").onclick=function(){var n=document.querySelector("#nickname").value;""!==n&&(n,function(){var n=document.querySelector("#login"),e=document.querySelector("#game-div");n.style.display="none",e.style.display="block",p()}())}}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.m=e,n=[],o.O=(e,t,i,r)=>{if(!t){var a=1/0;for(c=0;c<n.length;c++){for(var[t,i,r]=n[c],l=!0,u=0;u<t.length;u++)(!1&r||a>=r)&&Object.keys(o.O).every((n=>o.O[n](t[u])))?t.splice(u--,1):(l=!1,r<a&&(a=r));if(l){n.splice(c--,1);var s=i();void 0!==s&&(e=s)}}return e}r=r||0;for(var c=n.length;c>0&&n[c-1][2]>r;c--)n[c]=n[c-1];n[c]=[t,i,r]},o.d=(n,e)=>{for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),o.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={179:0};o.O.j=e=>0===n[e];var e=(e,t)=>{var i,r,[a,l,u]=t,s=0;if(a.some((e=>0!==n[e]))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(u)var c=u(o)}for(e&&e(t);s<a.length;s++)r=a[s],o.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return o.O(c)},t=self.webpackChunkcannonn_io=self.webpackChunkcannonn_io||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var i=o.O(void 0,[524],(()=>o(3394)));i=o.O(i)})();